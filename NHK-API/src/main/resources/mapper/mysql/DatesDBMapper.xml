<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="nhk.api.repository.DatesDBMapper">
	<select id="selectDates" resultType="DatesDB">
		select * from dates   
	</select>
	
	<update id="updateDates">
		update dates 
		set selectable_date = case id 
		when 1 then curdate() 
		when 2 then curdate() + interval 1 day 
		when 3 then curdate() + interval 2 day 
		when 4 then curdate() + interval 3 day 
		when 5 then curdate() + interval 4 day 
		when 6 then curdate() + interval 5 day 
		when 7 then curdate() + interval 6 day 
		when 8 then curdate() + interval 7 day 
		end 
		where id in (1, 2, 3, 4, 5, 6, 7, 8)
	</update>
</mapper>